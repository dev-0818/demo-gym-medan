import{a0 as x,h as d,a6 as m,m as r,P as I,a2 as y,E as S}from"./index-BL-rMMGy.js";const A=x("memberships",()=>{const i=d([...m]),a=d(!1);function o(){a.value||(i.value=[...m],a.value=!0)}const n=r(()=>i.value.filter(e=>e.status==="active")),p=r(()=>i.value.filter(e=>e.status==="expired")),c=r(()=>n.value.filter(e=>{const t=S(e.endDate);return t>=0&&t<=7}));function l(e){return i.value.find(t=>t.id===e)}function f(e){return i.value.filter(t=>t.memberId===e)}function v(e){return i.value.find(t=>t.memberId===e&&t.status==="active")}function b(e){const t={...e,id:y(),createdAt:I()};return i.value.push(t),t}function u(e,t){const s=i.value.findIndex(g=>g.id===e);s!==-1&&(i.value[s]={...i.value[s],...t})}function h(e,t){u(e,{status:t})}function M(e){i.value=i.value.filter(t=>t.id!==e)}return{memberships:i,activeMemberships:n,expiredMemberships:p,expiringMemberships:c,init:o,getMembershipById:l,getMembershipsByMember:f,getActiveMembershipByMember:v,addMembership:b,updateMembership:u,updateStatus:h,deleteMembership:M}},{persist:!0});export{A as u};
