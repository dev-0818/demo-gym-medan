import{C as U,p as O,a as F,b as W,B as J,c as Z,L as q,A as G,d as K,D as z}from"./index-tRLypuq8.js";import{d as A,c as r,a as t,t as o,e as g,n as k,o as s,s as Q,u as X,j as x,A as D,x as c,C as h,b,F as f,l as w,m as d,D as Y,E as tt}from"./index-CvLdIzOc.js";import{u as et}from"./memberships-Cd367sp8.js";import{u as st}from"./payments-CUgHSblE.js";import{u as rt}from"./checkins-CHLVgXjx.js";const at={class:"card p-5"},ot={class:"flex items-start justify-between"},nt={class:"flex-1"},lt={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},it={class:"mt-1.5 text-2xl font-bold text-gray-900 dark:text-gray-100"},dt={key:0,class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},ct={key:1,class:"mt-2 flex items-center gap-1"},gt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ut={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},xt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},mt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},yt={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ht={key:3,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},pt={key:4,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},vt={key:5,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},kt={key:6,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},p=A({__name:"StatsCard",props:{title:{},value:{},subtitle:{},icon:{},color:{},trend:{},trendUp:{type:Boolean}},setup(l){return(m,a)=>(s(),r("div",at,[t("div",ot,[t("div",nt,[t("p",lt,o(l.title),1),t("p",it,o(l.value),1),l.subtitle?(s(),r("p",dt,o(l.subtitle),1)):g("",!0),l.trend?(s(),r("div",ct,[l.trendUp?(s(),r("svg",gt,[...a[0]||(a[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)])])):(s(),r("svg",ut,[...a[1]||(a[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)])])),t("span",{class:k(["text-xs font-medium",l.trendUp?"text-emerald-600":"text-red-600"])},o(l.trend),3)])):g("",!0)]),t("div",{class:k(["flex h-11 w-11 items-center justify-center rounded-xl",l.color||"bg-primary-100 text-primary-600"])},[l.icon==="users"?(s(),r("svg",xt,[...a[2]||(a[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},null,-1)])])):l.icon==="user-check"?(s(),r("svg",mt,[...a[3]||(a[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 11l2 2 4-4"},null,-1)])])):l.icon==="money"?(s(),r("svg",yt,[...a[4]||(a[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):l.icon==="warning"?(s(),r("svg",ht,[...a[5]||(a[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):l.icon==="calendar"?(s(),r("svg",pt,[...a[6]||(a[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])])):l.icon==="checkin"?(s(),r("svg",vt,[...a[7]||(a[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):l.icon==="trainer"?(s(),r("svg",kt,[...a[8]||(a[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 8h2m12 0h2M6 8v8m12-8v8M8 6h8M8 18h8M8 6v12m8-12v12"},null,-1)])])):g("",!0)],2)])]))}}),bt={class:"space-y-6"},ft={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4"},wt={key:0,class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},_t={class:"card p-5 lg:col-span-2"},Mt={class:"h-72"},Ct={class:"card p-5"},Bt={class:"h-72"},St={key:1,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},jt={class:"card p-5"},$t={class:"h-72"},zt={class:"card p-5"},Dt={class:"space-y-4"},At={class:"flex items-center justify-between rounded-lg bg-gray-50 dark:bg-gray-700/50 p-4"},Pt={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Tt={class:"flex items-center justify-between rounded-lg bg-gray-50 dark:bg-gray-700/50 p-4"},It={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Vt={class:"flex items-center justify-between rounded-lg bg-gray-50 dark:bg-gray-700/50 p-4"},Lt={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Rt={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Et={key:0,class:"card"},Ht={class:"overflow-x-auto"},Nt={class:"w-full text-sm"},Ut={class:"divide-y divide-gray-50 dark:divide-gray-700"},Ot={class:"px-5 py-3 font-medium text-gray-900 dark:text-gray-100"},Ft={class:"px-5 py-3 text-gray-600 dark:text-gray-400"},Wt={class:"px-5 py-3"},Jt={class:"capitalize text-gray-600 dark:text-gray-400"},Zt={class:"px-5 py-3"},qt={class:"card"},Gt={key:0,class:"p-8 text-center"},Kt={key:1,class:"overflow-x-auto"},Qt={class:"w-full text-sm"},Xt={class:"divide-y divide-gray-50 dark:divide-gray-700"},Yt={class:"px-5 py-3 font-medium text-gray-900 dark:text-gray-100"},te={class:"px-5 py-3 text-gray-600 dark:text-gray-400"},ee={class:"px-5 py-3"},se={class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-semibold text-red-700"},re={key:1,class:"card"},ae={key:0,class:"p-8 text-center"},oe={key:1,class:"overflow-x-auto"},ne={class:"w-full text-sm"},le={class:"divide-y divide-gray-50 dark:divide-gray-700"},ie={class:"px-5 py-3 font-medium text-gray-900 dark:text-gray-100"},de={class:"px-5 py-3 text-gray-600 dark:text-gray-400"},ce={class:"px-5 py-3"},ge={key:2,class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},ue={class:"card p-5 text-center"},xe={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},me={class:"card p-5 text-center"},ye={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},he={class:"card p-5 text-center"},pe={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},_e=A({__name:"DashboardView",setup(l){U.register(O,F,W,J,Z,q,G);const m=Q(),a=et(),y=st(),v=rt(),P=X(),u=d(()=>{var n;return((n=P.currentUser)==null?void 0:n.role)==="admin"}),_=d(()=>m.members.length),T=d(()=>a.activeMemberships.length),M=d(()=>m.trainers.length),I=d(()=>y.monthlyRevenue),C=d(()=>a.expiringMemberships.length),V=d(()=>y.pendingPayments.length),L=d(()=>v.todayCheckins.length),R=d(()=>v.activeCheckins.length),E=d(()=>{const n=y.getRevenueByMonth();return{labels:n.labels,datasets:[{label:"Pendapatan",data:n.values,backgroundColor:"#3b82f6",borderRadius:8,borderSkipped:!1}]}}),H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:n=>h(n.raw)}}},scales:{y:{beginAtZero:!0,ticks:{callback:n=>h(n)},grid:{color:"#f3f4f6"}},x:{grid:{display:!1}}}},B=d(()=>({labels:["Aktif","Expired","Pending","Frozen"],datasets:[{data:[a.activeMemberships.length,a.expiredMemberships.length,a.memberships.filter(n=>n.status==="pending").length,a.memberships.filter(n=>n.status==="frozen").length],backgroundColor:["#22c55e","#ef4444","#f59e0b","#3b82f6"],borderWidth:0}]})),S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:16,usePointStyle:!0,pointStyle:"circle"}}}},N=d(()=>[...y.payments].sort((n,e)=>new Date(e.createdAt).getTime()-new Date(n.createdAt).getTime()).slice(0,5)),j=d(()=>a.expiringMemberships.slice(0,5));function $(n){var e;return((e=m.getUserById(n))==null?void 0:e.name)||"-"}return(n,e)=>(s(),r("div",bt,[t("div",ft,[x(p,{title:"Total Member",value:_.value,icon:"users",color:"bg-primary-100 text-primary-600"},null,8,["value"]),x(p,{title:"Member Aktif",value:T.value,icon:"user-check",color:"bg-emerald-100 text-emerald-600",subtitle:`dari ${_.value} member`},null,8,["value","subtitle"]),u.value?(s(),D(p,{key:0,title:"Pendapatan Bulan Ini",value:c(h)(I.value),icon:"money",color:"bg-amber-100 text-amber-600"},null,8,["value"])):g("",!0),u.value?g("",!0):(s(),D(p,{key:1,title:"Check-in Hari Ini",value:L.value,icon:"checkin",color:"bg-amber-100 text-amber-600",subtitle:`${R.value} masih aktif`},null,8,["value","subtitle"])),x(p,{title:"Segera Expired",value:C.value,icon:"warning",color:"bg-red-100 text-red-600",subtitle:"dalam 7 hari ke depan"},null,8,["value"])]),u.value?(s(),r("div",wt,[t("div",_t,[e[0]||(e[0]=t("div",{class:"mb-4 flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Pendapatan 6 Bulan Terakhir"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Overview revenue bulanan")])],-1)),t("div",Mt,[x(c(K),{data:E.value,options:H},null,8,["data"])])]),t("div",Ct,[e[1]||(e[1]=t("div",{class:"mb-4"},[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Status Membership"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Distribusi status saat ini")],-1)),t("div",Bt,[x(c(z),{data:B.value,options:S},null,8,["data"])])])])):g("",!0),u.value?g("",!0):(s(),r("div",St,[t("div",jt,[e[2]||(e[2]=t("div",{class:"mb-4"},[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Status Membership"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Distribusi status saat ini")],-1)),t("div",$t,[x(c(z),{data:B.value,options:S},null,8,["data"])])]),t("div",zt,[e[6]||(e[6]=t("div",{class:"mb-4"},[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Ringkasan Info"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Statistik harian")],-1)),t("div",Dt,[t("div",At,[e[3]||(e[3]=b('<div class="flex items-center gap-3"><div class="flex h-10 w-10 items-center justify-center rounded-lg bg-orange-100 text-orange-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 8h2m12 0h2M6 8v8m12-8v8M8 6h8M8 18h8M8 6v12m8-12v12"></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Personal Trainer</span></div>',1)),t("span",Pt,o(M.value),1)]),t("div",Tt,[e[4]||(e[4]=b('<div class="flex items-center gap-3"><div class="flex h-10 w-10 items-center justify-center rounded-lg bg-amber-100 text-amber-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Pending Bayar</span></div>',1)),t("span",It,o(V.value),1)]),t("div",Vt,[e[5]||(e[5]=b('<div class="flex items-center gap-3"><div class="flex h-10 w-10 items-center justify-center rounded-lg bg-red-100 text-red-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Segera Expired</span></div>',1)),t("span",Lt,o(C.value),1)])])])])),t("div",Rt,[u.value?(s(),r("div",Et,[e[8]||(e[8]=t("div",{class:"border-b border-gray-200 dark:border-gray-700 px-5 py-4"},[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Pembayaran Terbaru")],-1)),t("div",Ht,[t("table",Nt,[e[7]||(e[7]=t("thead",null,[t("tr",{class:"border-b border-gray-100 dark:border-gray-700 text-left"},[t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Member"),t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Jumlah"),t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Metode"),t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Status")])],-1)),t("tbody",Ut,[(s(!0),r(f,null,w(N.value,i=>(s(),r("tr",{key:i.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",Ot,o($(i.memberId)),1),t("td",Ft,o(c(h)(i.amount)),1),t("td",Wt,[t("span",Jt,o(i.method),1)]),t("td",Zt,[t("span",{class:k(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",i.status==="paid"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"])},o(i.status==="paid"?"Lunas":"Pending"),3)])]))),128))])])])])):g("",!0),t("div",qt,[e[11]||(e[11]=t("div",{class:"border-b border-gray-200 dark:border-gray-700 px-5 py-4"},[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"⚠️ Membership Segera Berakhir")],-1)),j.value.length===0?(s(),r("div",Gt,[...e[9]||(e[9]=[t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tidak ada membership yang akan berakhir dalam 7 hari",-1)])])):(s(),r("div",Kt,[t("table",Qt,[e[10]||(e[10]=t("thead",null,[t("tr",{class:"border-b border-gray-100 dark:border-gray-700 text-left"},[t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Member"),t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Berakhir"),t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Sisa Hari")])],-1)),t("tbody",Xt,[(s(!0),r(f,null,w(j.value,i=>(s(),r("tr",{key:i.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",Yt,o($(i.memberId)),1),t("td",te,o(c(Y)(i.endDate)),1),t("td",ee,[t("span",se,o(c(tt)(i.endDate))+" hari ",1)])]))),128))])])]))]),u.value?g("",!0):(s(),r("div",re,[e[14]||(e[14]=t("div",{class:"border-b border-gray-200 dark:border-gray-700 px-5 py-4"},[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"✅ Check-in Hari Ini")],-1)),c(v).todayCheckins.length===0?(s(),r("div",ae,[...e[12]||(e[12]=[t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Belum ada check-in hari ini",-1)])])):(s(),r("div",oe,[t("table",ne,[e[13]||(e[13]=t("thead",null,[t("tr",{class:"border-b border-gray-100 dark:border-gray-700 text-left"},[t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Member"),t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Waktu"),t("th",{class:"px-5 py-3 font-medium text-gray-500 dark:text-gray-400"},"Status")])],-1)),t("tbody",le,[(s(!0),r(f,null,w(c(v).todayCheckins.slice(0,8),i=>(s(),r("tr",{key:i.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",ie,o(i.memberName),1),t("td",de,o(new Date(i.checkInTime).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})),1),t("td",ce,[t("span",{class:k(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",i.checkOutTime?"bg-gray-100 text-gray-600":"bg-emerald-100 text-emerald-700"])},o(i.checkOutTime?"Selesai":"Aktif"),3)])]))),128))])])]))]))]),u.value?(s(),r("div",ge,[t("div",ue,[e[15]||(e[15]=t("div",{class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-orange-100 text-orange-600"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 8h2m12 0h2M6 8v8m12-8v8M8 6h8M8 18h8M8 6v12m8-12v12"})])],-1)),t("p",xe,o(M.value),1),e[16]||(e[16]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Personal Trainer",-1))]),t("div",me,[e[17]||(e[17]=t("div",{class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-blue-100 text-blue-600"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),t("p",ye,o(c(m).staff.length),1),e[18]||(e[18]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Staff",-1))]),t("div",he,[e[19]||(e[19]=t("div",{class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-100 text-emerald-600"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("p",pe,o(c(h)(c(y).totalRevenue)),1),e[20]||(e[20]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Pendapatan",-1))])])):g("",!0)]))}});export{_e as default};
