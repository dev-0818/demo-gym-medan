import{d as ye,s as fe,r as Q,M as R,c as l,a as t,n as h,F as P,f as d,v as x,x as g,g as p,e as c,l as I,H as C,b as Pe,j as U,k as X,h as m,m as q,o,t as r,C as M,a5 as we,D as Z,L as Se,w as ee,O as Te}from"./index-BL-rMMGy.js";import{_ as te}from"./ModalDialog.vue_vue_type_script_setup_true_lang-OzfDBMd-.js";import{u as he,_ as se}from"./usePermissions-DyVJ02aV.js";import{u as Ie}from"./pt-D2Orkp7Z.js";import{u as Ce}from"./memberships-Dm9SGUk7.js";import{u as Me}from"./activityLog-BjSRnBzQ.js";const Ve={class:"space-y-6"},De={class:"flex gap-1 rounded-lg bg-gray-100 dark:bg-gray-700/50 p-1"},Ue={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},Be={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},je={class:"flex items-start justify-between"},Le={class:"font-bold text-gray-900 dark:text-gray-100 text-lg"},$e={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Ae={class:"mt-4 space-y-2"},Ne={class:"flex items-center justify-between text-sm"},_e={class:"font-bold text-orange-600 dark:text-orange-400 text-lg"},He={class:"flex items-center justify-between text-sm"},qe={class:"font-medium text-gray-900 dark:text-gray-100"},Ee={class:"flex items-center justify-between text-sm border-t border-gray-100 dark:border-gray-700 pt-2"},ze={class:"font-bold text-primary-600 dark:text-primary-400 text-lg"},Oe={key:0,class:"mt-4 flex gap-2 border-t border-gray-100 dark:border-gray-700 pt-4"},Fe=["onClick"],Je=["onClick"],Ke={key:0,class:"col-span-full card p-12 text-center text-gray-500 dark:text-gray-400"},Ye={class:"flex flex-col gap-3 sm:flex-row sm:items-center"},We={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},Ge={class:"flex items-start gap-3"},Qe=["src","alt"],Re={key:1,class:"flex h-12 w-12 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 text-lg font-bold shrink-0"},Xe={class:"flex-1 min-w-0"},Ze={class:"flex items-center gap-2 flex-wrap"},et={class:"font-semibold text-gray-900 dark:text-gray-100"},tt={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},st={class:"font-medium text-gray-700 dark:text-gray-300"},at={class:"mt-4"},nt={class:"flex items-center justify-between text-sm mb-1.5"},rt={class:"font-bold text-gray-900 dark:text-gray-100"},lt={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3"},ot={class:"flex items-center justify-between text-xs text-gray-400 dark:text-gray-500 mt-1"},it={key:0,class:"mt-2 text-xs text-gray-500 dark:text-gray-400 italic"},dt={class:"mt-4 flex gap-2 border-t border-gray-100 dark:border-gray-700 pt-3"},ut=["onClick"],mt=["onClick"],gt=["onClick"],pt={key:0,class:"col-span-full card p-12 text-center text-gray-500 dark:text-gray-400"},ct={class:"grid grid-cols-2 gap-4"},vt={class:"rounded-lg bg-primary-50 dark:bg-primary-900/30 border border-primary-200 dark:border-primary-800 p-3"},xt={class:"flex items-center justify-between"},bt={class:"text-lg font-bold text-primary-700 dark:text-primary-400"},kt={class:"text-xs text-primary-600 dark:text-primary-500 mt-1"},yt={class:"flex items-center gap-2"},ft={class:"flex justify-end gap-3 pt-2"},Pt={type:"submit",class:"btn-primary"},wt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},St=["disabled"],Tt=["value"],ht=["value"],It=["value"],Ct={key:0,class:"rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 p-3"},Mt={class:"flex items-center justify-between text-sm"},Vt={class:"font-bold text-orange-700 dark:text-orange-400"},Dt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ut={key:1,class:"grid grid-cols-2 gap-4"},Bt=["max"],jt={class:"flex justify-end gap-3 pt-2"},Lt={type:"submit",class:"btn-primary"},zt=ye({__name:"PTView",setup($t){const v=fe(),u=Ie(),ae=Ce(),y=Me(),{canDelete:E,canManagePackages:z}=he(),ne=q(()=>v.members.filter(a=>ae.getMembershipsByMember(a.id).some(e=>e.status==="active"))),w=m("subscriptions"),B=m(""),S=m(!1),f=m(null),j=m(!1),O=m(""),L=m(""),i=Q({name:"",sessions:4,pricePerSession:15e4,totalPrice:6e5,description:"",isActive:!0}),F=q(()=>{const a=B.value.toLowerCase();return u.ptPackages.filter(e=>e.name.toLowerCase().includes(a))});function J(){i.totalPrice=i.sessions*i.pricePerSession}function re(){f.value=null,Object.assign(i,{name:"",sessions:4,pricePerSession:15e4,totalPrice:6e5,description:"",isActive:!0}),S.value=!0}function le(a){f.value=a,Object.assign(i,{name:a.name,sessions:a.sessions,pricePerSession:a.pricePerSession,totalPrice:a.totalPrice,description:a.description,isActive:a.isActive}),S.value=!0}function oe(){if(f.value)u.updatePTPackage(f.value.id,{...i}),y.addLog({action:"update",targetType:"pt-package",targetId:f.value.id,targetName:i.name,details:`Mengupdate paket PT "${i.name}"`});else{const a=u.addPTPackage({...i});y.addLog({action:"create",targetType:"pt-package",targetId:a.id,targetName:a.name,details:`Membuat paket PT baru "${a.name}"`})}S.value=!1}function ie(a){O.value=`Yakin hapus paket PT "${a.name}"?`,L.value=a.id,j.value=!0}function de(){const a=u.getPTPackageById(L.value);a&&y.addLog({action:"delete",targetType:"pt-package",targetId:a.id,targetName:a.name,details:`Menghapus paket PT "${a.name}"`}),u.deletePTPackage(L.value)}const $=m(""),V=m("all"),T=m(!1),b=m(null),A=m(!1),K=m(""),N=m(""),n=Q({memberId:"",trainerId:"",ptPackageId:"",totalSessions:0,usedSessions:0,status:"active",startDate:R(),endDate:"",notes:""}),Y=q(()=>{let a=u.ptSubscriptions;V.value!=="all"&&(a=a.filter(s=>s.status===V.value));const e=$.value.toLowerCase();return e&&(a=a.filter(s=>{const k=v.getUserById(s.memberId),H=v.getUserById(s.trainerId);return(k==null?void 0:k.name.toLowerCase().includes(e))||(H==null?void 0:H.name.toLowerCase().includes(e))})),a});function ue(){const a=u.getPTPackageById(n.ptPackageId);a&&(n.totalSessions=a.sessions,n.startDate&&(n.endDate=Te(n.startDate,60)))}function me(){b.value=null,Object.assign(n,{memberId:"",trainerId:"",ptPackageId:"",totalSessions:0,usedSessions:0,status:"active",startDate:R(),endDate:"",notes:""}),T.value=!0}function ge(a){b.value=a,Object.assign(n,{memberId:a.memberId,trainerId:a.trainerId,ptPackageId:a.ptPackageId,totalSessions:a.totalSessions,usedSessions:a.usedSessions,status:a.status,startDate:a.startDate,endDate:a.endDate,notes:a.notes}),T.value=!0}function pe(){var e;const a=((e=v.getUserById(n.memberId))==null?void 0:e.name)||"member";if(b.value)u.updateSubscription(b.value.id,{...n}),y.addLog({action:"update",targetType:"pt-subscription",targetId:b.value.id,targetName:a,details:`Mengupdate langganan PT "${a}"`});else{const s=u.addSubscription({...n});y.addLog({action:"create",targetType:"pt-subscription",targetId:s.id,targetName:a,details:`Menambahkan langganan PT baru untuk "${a}"`})}T.value=!1}function ce(a){var s;u.addSession(a.id);const e=((s=v.getUserById(a.memberId))==null?void 0:s.name)||"member";y.addLog({action:"update",targetType:"pt-subscription",targetId:a.id,targetName:e,details:`Menambah 1 sesi PT untuk "${e}" (${a.usedSessions}/${a.totalSessions})`})}function ve(a){var s;const e=((s=v.getUserById(a.memberId))==null?void 0:s.name)||"member";K.value=`Yakin hapus langganan PT "${e}"?`,N.value=a.id,A.value=!0}function xe(){var e;const a=u.getSubscriptionById(N.value);if(a){const s=((e=v.getUserById(a.memberId))==null?void 0:e.name)||"member";y.addLog({action:"delete",targetType:"pt-subscription",targetId:a.id,targetName:s,details:`Menghapus langganan PT "${s}"`})}u.deleteSubscription(N.value)}function _(a){var e;return((e=v.getUserById(a))==null?void 0:e.name)||"-"}function be(a){var e;return((e=v.getUserById(a))==null?void 0:e.name)||"-"}function W(a){const e=v.getUserById(a);return(e==null?void 0:e.photo)||(e==null?void 0:e.avatar)||""}function ke(a){var e;return((e=u.getPTPackageById(a))==null?void 0:e.name)||"-"}function G(a){switch(a){case"active":return{label:"Aktif",class:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"};case"completed":return{label:"Selesai",class:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"};case"expired":return{label:"Expired",class:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};case"cancelled":return{label:"Dibatalkan",class:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};default:return{label:a,class:"bg-gray-100 text-gray-700"}}}function D(a){return a.totalSessions>0?Math.round(a.usedSessions/a.totalSessions*100):0}return(a,e)=>(o(),l("div",Ve,[e[57]||(e[57]=t("div",{class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Personal Trainer"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kelola paket sesi PT & langganan member")])],-1)),t("div",De,[t("button",{onClick:e[0]||(e[0]=s=>w.value="subscriptions"),class:h(["flex-1 rounded-md px-4 py-2 text-sm font-medium transition-colors",w.value==="subscriptions"?"bg-white dark:bg-gray-800 text-primary-700 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"])}," ğŸ‹ï¸ Langganan PT Member ",2),t("button",{onClick:e[1]||(e[1]=s=>w.value="packages"),class:h(["flex-1 rounded-md px-4 py-2 text-sm font-medium transition-colors",w.value==="packages"?"bg-white dark:bg-gray-800 text-primary-700 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"])}," ğŸ“¦ Master Paket PT ",2)]),w.value==="packages"?(o(),l(P,{key:0},[t("div",Ue,[d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>B.value=s),type:"text",class:"input flex-1",placeholder:"ğŸ” Cari paket PT..."},null,512),[[x,B.value]]),g(z)?(o(),l("button",{key:0,onClick:re,class:"btn-primary shrink-0"},[...e[24]||(e[24]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),p(" Tambah Paket PT ",-1)])])):c("",!0)]),t("div",Be,[(o(!0),l(P,null,I(F.value,s=>(o(),l("div",{key:s.id,class:"card p-5 hover:shadow-md transition-shadow"},[t("div",je,[t("div",null,[t("h3",Le,r(s.name),1),t("p",$e,r(s.description),1)]),t("span",{class:h(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",s.isActive?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"])},r(s.isActive?"Aktif":"Nonaktif"),3)]),t("div",Ae,[t("div",Ne,[e[25]||(e[25]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Jumlah Sesi",-1)),t("span",_e,r(s.sessions)+"x",1)]),t("div",He,[e[26]||(e[26]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Harga/Sesi",-1)),t("span",qe,r(g(M)(s.pricePerSession)),1)]),t("div",Ee,[e[27]||(e[27]=t("span",{class:"text-gray-500 dark:text-gray-400 font-semibold"},"Total Harga",-1)),t("span",ze,r(g(M)(s.totalPrice)),1)])]),g(z)?(o(),l("div",Oe,[t("button",{onClick:k=>le(s),class:"btn-ghost btn-xs flex-1 gap-1"},[...e[28]||(e[28]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p(" Edit ",-1)])],8,Fe),g(E)?(o(),l("button",{key:0,onClick:k=>ie(s),class:"btn-ghost btn-xs text-red-500 hover:text-red-700"},[...e[29]||(e[29]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Je)):c("",!0)])):c("",!0)]))),128)),F.value.length===0?(o(),l("div",Ke,"Tidak ada paket PT ditemukan.")):c("",!0)])],64)):c("",!0),w.value==="subscriptions"?(o(),l(P,{key:1},[t("div",Ye,[d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>$.value=s),type:"text",class:"input flex-1",placeholder:"ğŸ” Cari member atau trainer..."},null,512),[[x,$.value]]),d(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>V.value=s),class:"select w-full sm:w-44"},[...e[30]||(e[30]=[Pe('<option value="all">Semua Status</option><option value="active">Aktif</option><option value="completed">Selesai</option><option value="expired">Expired</option><option value="cancelled">Dibatalkan</option>',5)])],512),[[C,V.value]]),t("button",{onClick:me,class:"btn-primary shrink-0"},[...e[31]||(e[31]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),p(" Tambah Langganan PT ",-1)])])]),t("div",We,[(o(!0),l(P,null,I(Y.value,s=>(o(),l("div",{key:s.id,class:"card p-5 hover:shadow-md transition-shadow"},[t("div",Ge,[W(s.memberId)?(o(),l("img",{key:0,src:W(s.memberId),alt:_(s.memberId),class:"h-12 w-12 rounded-full object-cover ring-2 ring-gray-200 dark:ring-gray-700 shrink-0"},null,8,Qe)):(o(),l("div",Re,r(_(s.memberId).charAt(0)),1)),t("div",Xe,[t("div",Ze,[t("h3",et,r(_(s.memberId)),1),t("span",{class:h(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-medium",G(s.status).class])},r(G(s.status).label),3)]),t("p",tt,[e[32]||(e[32]=p(" Trainer: ",-1)),t("span",st,r(be(s.trainerId)),1),p(" Â· "+r(ke(s.ptPackageId)),1)])])]),t("div",at,[t("div",nt,[e[33]||(e[33]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Sesi",-1)),t("span",rt,r(s.usedSessions)+" / "+r(s.totalSessions),1)]),t("div",lt,[t("div",{class:h(["h-3 rounded-full transition-all duration-500",D(s)>=100?"bg-blue-500":D(s)>=75?"bg-orange-500":"bg-emerald-500"]),style:we({width:`${Math.min(D(s),100)}%`})},null,6)]),t("div",ot,[t("span",null,r(g(Z)(s.startDate))+" â€” "+r(g(Z)(s.endDate)),1),t("span",null,r(D(s))+"%",1)])]),s.notes?(o(),l("div",it,"ğŸ“ "+r(s.notes),1)):c("",!0),t("div",dt,[s.status==="active"&&s.usedSessions<s.totalSessions?(o(),l("button",{key:0,onClick:k=>ce(s),class:"btn-primary btn-xs flex-1 gap-1"},[...e[34]||(e[34]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),p(" +1 Sesi ",-1)])],8,ut)):c("",!0),t("button",{onClick:k=>ge(s),class:"btn-ghost btn-xs flex-1 gap-1"},[...e[35]||(e[35]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p(" Edit ",-1)])],8,mt),g(E)?(o(),l("button",{key:1,onClick:k=>ve(s),class:"btn-ghost btn-xs text-red-500 hover:text-red-700"},[...e[36]||(e[36]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,gt)):c("",!0)])]))),128)),Y.value.length===0?(o(),l("div",pt,"Tidak ada langganan PT ditemukan.")):c("",!0)])],64)):c("",!0),U(te,{modelValue:S.value,"onUpdate:modelValue":e[11]||(e[11]=s=>S.value=s),title:f.value?"Edit Paket PT":"Tambah Paket PT",size:"md"},{default:X(()=>[t("form",{onSubmit:ee(oe,["prevent"]),class:"space-y-4"},[t("div",null,[e[37]||(e[37]=t("label",{class:"label"},[p("Nama Paket "),t("span",{class:"text-red-500"},"*")],-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>i.name=s),type:"text",class:"input",placeholder:"Contoh: 8 Sesi PT",required:""},null,512),[[x,i.name]])]),t("div",ct,[t("div",null,[e[38]||(e[38]=t("label",{class:"label"},[p("Jumlah Sesi "),t("span",{class:"text-red-500"},"*")],-1)),d(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>i.sessions=s),type:"number",min:"1",class:"input",required:"",onInput:J},null,544),[[x,i.sessions,void 0,{number:!0}]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"label"},[p("Harga per Sesi "),t("span",{class:"text-red-500"},"*")],-1)),d(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.pricePerSession=s),type:"number",min:"0",step:"1000",class:"input",required:"",onInput:J},null,544),[[x,i.pricePerSession,void 0,{number:!0}]])])]),t("div",vt,[t("div",xt,[e[40]||(e[40]=t("span",{class:"text-sm font-medium text-primary-700 dark:text-primary-400"},"Total Harga",-1)),t("span",bt,r(g(M)(i.totalPrice)),1)]),t("p",kt,r(i.sessions)+" sesi Ã— "+r(g(M)(i.pricePerSession)),1)]),t("div",null,[e[41]||(e[41]=t("label",{class:"label"},"Deskripsi",-1)),d(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=s=>i.description=s),class:"input",rows:"2",placeholder:"Keterangan paket..."},null,512),[[x,i.description]])]),t("div",yt,[d(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.isActive=s),type:"checkbox",id:"pkgActive",class:"rounded border-gray-300"},null,512),[[Se,i.isActive]]),e[42]||(e[42]=t("label",{for:"pkgActive",class:"text-sm text-gray-700 dark:text-gray-300"},"Paket aktif",-1))]),t("div",ft,[t("button",{type:"button",onClick:e[10]||(e[10]=s=>S.value=!1),class:"btn-secondary"},"Batal"),t("button",Pt,r(f.value?"Simpan":"Tambah"),1)])],32)]),_:1},8,["modelValue","title"]),U(te,{modelValue:T.value,"onUpdate:modelValue":e[21]||(e[21]=s=>T.value=s),title:b.value?"Edit Langganan PT":"Tambah Langganan PT",size:"lg"},{default:X(()=>[t("form",{onSubmit:ee(pe,["prevent"]),class:"space-y-4"},[t("div",wt,[t("div",null,[e[44]||(e[44]=t("label",{class:"label"},[p("Member "),t("span",{class:"text-red-500"},"*")],-1)),d(t("select",{"onUpdate:modelValue":e[12]||(e[12]=s=>n.memberId=s),class:"select",required:"",disabled:!!b.value},[e[43]||(e[43]=t("option",{value:""},"Pilih member",-1)),(o(!0),l(P,null,I(ne.value,s=>(o(),l("option",{key:s.id,value:s.id},r(s.name),9,Tt))),128))],8,St),[[C,n.memberId]]),e[45]||(e[45]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Hanya member dengan membership aktif",-1))]),t("div",null,[e[47]||(e[47]=t("label",{class:"label"},[p("Trainer "),t("span",{class:"text-red-500"},"*")],-1)),d(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>n.trainerId=s),class:"select",required:""},[e[46]||(e[46]=t("option",{value:""},"Pilih trainer",-1)),(o(!0),l(P,null,I(g(v).trainers.filter(s=>s.isActive),s=>(o(),l("option",{key:s.id,value:s.id},r(s.name),9,ht))),128))],512),[[C,n.trainerId]])])]),t("div",null,[e[49]||(e[49]=t("label",{class:"label"},[p("Paket PT "),t("span",{class:"text-red-500"},"*")],-1)),d(t("select",{"onUpdate:modelValue":e[14]||(e[14]=s=>n.ptPackageId=s),class:"select",required:"",onChange:ue},[e[48]||(e[48]=t("option",{value:""},"Pilih paket PT",-1)),(o(!0),l(P,null,I(g(u).activePTPackages,s=>(o(),l("option",{key:s.id,value:s.id},r(s.name)+" â€” "+r(s.sessions)+" sesi â€” "+r(g(M)(s.totalPrice)),9,It))),128))],544),[[C,n.ptPackageId]])]),n.ptPackageId?(o(),l("div",Ct,[t("div",Mt,[e[50]||(e[50]=t("span",{class:"text-orange-700 dark:text-orange-400"},"Total Sesi",-1)),t("span",Vt,r(n.totalSessions)+"x sesi",1)])])):c("",!0),t("div",Dt,[t("div",null,[e[51]||(e[51]=t("label",{class:"label"},"Tanggal Mulai",-1)),d(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>n.startDate=s),type:"date",class:"input",required:""},null,512),[[x,n.startDate]])]),t("div",null,[e[52]||(e[52]=t("label",{class:"label"},"Tanggal Berakhir",-1)),d(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>n.endDate=s),type:"date",class:"input",required:""},null,512),[[x,n.endDate]])])]),b.value?(o(),l("div",Ut,[t("div",null,[e[53]||(e[53]=t("label",{class:"label"},"Sesi Terpakai",-1)),d(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>n.usedSessions=s),type:"number",min:"0",max:n.totalSessions,class:"input"},null,8,Bt),[[x,n.usedSessions,void 0,{number:!0}]])]),t("div",null,[e[55]||(e[55]=t("label",{class:"label"},"Status",-1)),d(t("select",{"onUpdate:modelValue":e[18]||(e[18]=s=>n.status=s),class:"select"},[...e[54]||(e[54]=[t("option",{value:"active"},"Aktif",-1),t("option",{value:"completed"},"Selesai",-1),t("option",{value:"expired"},"Expired",-1),t("option",{value:"cancelled"},"Dibatalkan",-1)])],512),[[C,n.status]])])])):c("",!0),t("div",null,[e[56]||(e[56]=t("label",{class:"label"},"Catatan",-1)),d(t("textarea",{"onUpdate:modelValue":e[19]||(e[19]=s=>n.notes=s),class:"input",rows:"2",placeholder:"Catatan tambahan..."},null,512),[[x,n.notes]])]),t("div",jt,[t("button",{type:"button",onClick:e[20]||(e[20]=s=>T.value=!1),class:"btn-secondary"},"Batal"),t("button",Lt,r(b.value?"Simpan":"Tambah"),1)])],32)]),_:1},8,["modelValue","title"]),U(se,{modelValue:j.value,"onUpdate:modelValue":e[22]||(e[22]=s=>j.value=s),message:O.value,onConfirm:de},null,8,["modelValue","message"]),U(se,{modelValue:A.value,"onUpdate:modelValue":e[23]||(e[23]=s=>A.value=s),message:K.value,onConfirm:xe},null,8,["modelValue","message"])]))}});export{zt as default};
