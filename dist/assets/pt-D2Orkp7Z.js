import{a0 as B,h as r,m as d,P as p,a2 as l}from"./index-BL-rMMGy.js";const P=[{id:"pt-pkg-001",name:"4 Sesi PT",sessions:4,pricePerSession:15e4,totalPrice:6e5,description:"Paket personal trainer 4 sesi, cocok untuk pemula",isActive:!0,createdAt:"2025-01-01T00:00:00.000Z"},{id:"pt-pkg-002",name:"8 Sesi PT",sessions:8,pricePerSession:14e4,totalPrice:112e4,description:"Paket personal trainer 8 sesi, paling populer",isActive:!0,createdAt:"2025-01-01T00:00:00.000Z"},{id:"pt-pkg-003",name:"12 Sesi PT",sessions:12,pricePerSession:125e3,totalPrice:15e5,description:"Paket personal trainer 12 sesi, hemat 17%",isActive:!0,createdAt:"2025-01-01T00:00:00.000Z"},{id:"pt-pkg-004",name:"16 Sesi PT",sessions:16,pricePerSession:115e3,totalPrice:184e4,description:"Paket personal trainer 16 sesi, hemat 23%",isActive:!0,createdAt:"2025-01-01T00:00:00.000Z"},{id:"pt-pkg-005",name:"24 Sesi PT",sessions:24,pricePerSession:1e5,totalPrice:24e5,description:"Paket personal trainer 24 sesi, harga terbaik!",isActive:!0,createdAt:"2025-01-01T00:00:00.000Z"}],m=[{id:"pt-sub-001",memberId:"u-member-002",trainerId:"u-trainer-001",ptPackageId:"pt-pkg-002",totalSessions:8,usedSessions:3,status:"active",startDate:"2026-01-20",endDate:"2026-03-20",notes:"Program diet & fitness",createdAt:"2026-01-20T00:00:00.000Z"},{id:"pt-sub-002",memberId:"u-member-005",trainerId:"u-trainer-001",ptPackageId:"pt-pkg-002",totalSessions:8,usedSessions:2,status:"active",startDate:"2026-02-01",endDate:"2026-04-01",notes:"Program bulking",createdAt:"2026-02-01T00:00:00.000Z"},{id:"pt-sub-003",memberId:"u-member-006",trainerId:"u-trainer-003",ptPackageId:"pt-pkg-003",totalSessions:12,usedSessions:8,status:"active",startDate:"2025-12-01",endDate:"2026-04-01",notes:"Member VIP tahunan",createdAt:"2025-12-01T00:00:00.000Z"},{id:"pt-sub-004",memberId:"u-member-004",trainerId:"u-trainer-002",ptPackageId:"pt-pkg-001",totalSessions:4,usedSessions:4,status:"completed",startDate:"2026-01-01",endDate:"2026-01-31",notes:"",createdAt:"2026-01-01T00:00:00.000Z"}],w=B("pt",()=>{const i=r([...P]),s=r([...m]),u=r(!1);function S(){u.value||(i.value=[...P],s.value=[...m],u.value=!0)}const f=d(()=>i.value.filter(t=>t.isActive));function v(t){return i.value.find(e=>e.id===t)}function g(t){const e={...t,id:l(),createdAt:p()};return i.value.push(e),e}function b(t,e){const a=i.value.findIndex(n=>n.id===t);a!==-1&&(i.value[a]={...i.value[a],...e})}function k(t){i.value=i.value.filter(e=>e.id!==t)}const T=d(()=>s.value.filter(t=>t.status==="active"));function o(t){return s.value.find(e=>e.id===t)}function I(t){return s.value.filter(e=>e.memberId===t)}function A(t){return s.value.find(e=>e.memberId===t&&e.status==="active")}function Z(t){return s.value.filter(e=>e.trainerId===t)}function D(t){const e={...t,id:l(),createdAt:p()};return s.value.push(e),e}function c(t,e){const a=s.value.findIndex(n=>n.id===t);a!==-1&&(s.value[a]={...s.value[a],...e})}function h(t){const e=o(t);e&&e.usedSessions<e.totalSessions&&(e.usedSessions++,e.usedSessions>=e.totalSessions&&(e.status="completed"))}function x(t,e){c(t,{status:e})}function y(t){s.value=s.value.filter(e=>e.id!==t)}return{ptPackages:i,ptSubscriptions:s,activePTPackages:f,activeSubscriptions:T,init:S,getPTPackageById:v,addPTPackage:g,updatePTPackage:b,deletePTPackage:k,getSubscriptionById:o,getSubscriptionsByMember:I,getActiveSubscriptionByMember:A,getSubscriptionsByTrainer:Z,addSubscription:D,updateSubscription:c,addSession:h,updateStatus:x,deleteSubscription:y}},{persist:!0});export{w as u};
